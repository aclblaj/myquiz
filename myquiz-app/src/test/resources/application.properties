# Test configuration for MyQuiz application
# This configuration allows tests to connect to the Docker PostgreSQL database

spring.application.name=myquiz-app-test
spring.jpa.hibernate.ddl-auto=update
spring.sql.init.platform=postgres

# Database configuration - uses Docker PostgreSQL database (from docker-compose.yml)
# Docker exposes PostgreSQL on port 5433 (mapped from container's 5432)
spring.datasource.url=jdbc:postgresql://localhost:5433/myquiz?sslmode=disable
spring.datasource.username=myquiz_user
spring.datasource.password=myquiz_password
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.show-sql=false
spring.jpa.open-in-view=false

# JWT Configuration (from docker-compose.yml)
jwt.secret=myquiz-shared-secret-key-for-all-services-at-least-256-bits

# Service URLs (from docker-compose.yml) - using localhost for tests
FRONTEND_URL=http://localhost:8080

# Disable Thymeleaf for tests
spring.thymeleaf.enabled=false

# Logging configuration for tests
logging.level.root=INFO
logging.level.com.unitbv.myquiz=DEBUG
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.org.springframework.web=WARN
logging.level.org.springframework.security=WARN

# Upload directory for test files
upload.dir=C:\\Temp\\test-uploads

# Disable OpenAPI/Swagger for tests
springdoc.swagger-ui.enabled=false
springdoc.api-docs.enabled=false

# Test-specific configurations
spring.test.database.replace=none

# Batch processing
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true

# Connection pool
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5

